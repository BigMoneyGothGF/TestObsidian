<!--suppress HtmlUnknownTarget, HtmlFormInputWithoutLabel -->
<form class="obsidian {{cssClass}}" autocomplete="off">
	<section class="obsidian-sidebar">
		<img class="obsidian-profile-img obsidian-ptr" src="{{actor.img}}" title="{{actor.name}}"
		     alt="{{actor.name}}" data-edit="img">
		<div class="obsidian-collapser-container obsidian-ptr">
			<i class="fas fa-angle-double-down fa-rotate-90"></i>
		</div>
	</section>
	<section class="obsidian-char-overview">
		<div class="obsidian-char-header">
			<input name="name" type="text" value="{{actor.name}}" placeholder="Character Name"
			       class="obsidian-char-charname obsidian-condensed">
			<div class="obsidian-char-header-minor obsidian-condensed">
				{{#if data.details.gender.value}}
					<span>{{data.details.gender.value}}</span>
				{{/if}}
				{{#if data.details.subrace.value}}
					<span class="obsidian-joined">{{data.details.subrace.value}}</span>
				{{/if}}
				<span>
					{{#if data.details.race.value}}
						{{data.details.race.value}}
					{{else}}
						Race
					{{/if}}
				</span>
				<span>Class</span>
				<a title="Edit Details" class="obsidian-edit">
					<i class="fas fa-edit"></i>
				</a>
			</div>
			<div class="obsidian-char-xp obsidian-ptr">
				<div class="obsidian-char-xp-bar">
					<span class="obsidian-char-lvl obsidian-condensed">LVL {{data.details.level.value}}</span>
					<span class="obsidian-char-xp-progress">
						<span class="obsidian-char-xp-progress-bar" style="width:
							{{~#if (expr '>=' data.details.xp.value data.details.xp.max)~}}
								100
							{{~else~}}
								{{~expr '*' 100 (expr '/' data.details.xp.value data.details.xp.max)~}}
							{{~/if~}}%;"></span>
					</span>
					<span class="obsidian-char-lvl obsidian-condensed">
						{{#if (expr '>=' data.details.level.value data.details.level.max)}}
							MAX
						{{else}}
							LVL {{expr '+' data.details.level.value 1}}
						{{/if}}
					</span>
				</div>
				<div class="obsidian-char-xp-data">
					{{data.details.xp.value}} / {{data.details.xp.max}} XP
				</div>
			</div>
		</div>
		<div class="obsidian-char-abilities">
			{{#each data.abilities as |ability id|}}
			<div class="obsidian-char-ability">
				<div class="obsidian-char-ability-name rollable obsidian-condensed">{{id}}</div>
				<div class="obsidian-char-ability-mod">
					{{numberFormat ability.mod decimals=0 sign=true}}
				</div>
				<input name="data.abilities.{{id}}.value" type="text" value="{{ability.value}}"
				       placeholder="10" class="obsidian-char-ability-score">
			</div>
			{{/each}}
		</div>
	</section>
</form>
