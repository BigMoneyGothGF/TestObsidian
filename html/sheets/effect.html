<form class="obsidian obsidian-2-pane-container" autocomplete="off" data-obsidian-name="effect">
	<section class="obsidian-2-pane">
		<section class="obsidian-left-pane">
			{{#if (eq item.type 'weapon')}}
				{{> modules/obsidian/html/components/weapon.html}}
			{{else if (eq item.type 'equipment')}}
				{{> modules/obsidian/html/components/equipment.html}}
			{{else if (eq item.type 'consumable')}}
				{{> modules/obsidian/html/components/consumable.html}}
			{{else if (eq item.type 'backpack')}}
				{{> modules/obsidian/html/components/container.html}}
			{{else if (eq item.type 'feat')}}
				{{> modules/obsidian/html/components/feature.html}}
			{{else if (eq item.type 'spell')}}
				{{> modules/obsidian/html/components/spell.html}}
			{{/if}}
			<label class="obsidian-label-lg">{{localize 'OBSIDIAN.Description'}}</label>
			<div class="obsidian-rich-text">
				{{editor content=item.data.description.value button=false editable=editable
				         target='data.description.value'}}
			</div>
		</section>
		<section class="obsidian-right-pane">
			{{#each item.flags.obsidian.effects as |effect effectIndex|}}
				<div class="obsidian-effect" data-uuid="{{effect.uuid}}">
					<input type="text" value="{{effect.name}}"
					       name="flags.obsidian.effects.{{effectIndex}}.name"
					       placeholder="{{localize 'OBSIDIAN.EffectName'}}">
					{{#each components}}
						{{#if (eq type 'resource')}}
							{{> modules/obsidian/html/components/effects/resource.html
									prefix=(add 'flags.obsidian.effects.' effectIndex '.components.' @index)}}
						{{else if (eq type 'attack')}}
							{{> modules/obsidian/html/components/effects/attack.html
									prefix=(add 'flags.obsidian.effects.' effectIndex '.components.' @index)}}
						{{else if (eq type 'damage')}}
							{{> modules/obsidian/html/components/effects/damage.html
							    prefix=(add 'flags.obsidian.effects.' effectIndex '.components.' @index)}}
						{{else if (eq type 'save')}}
							{{> modules/obsidian/html/components/effects/save.html
							    prefix=(add 'flags.obsidian.effects.' effectIndex '.components.' @index)}}
						{{else if (eq type 'scaling')}}
							{{> modules/obsidian/html/components/effects/scaling.html
								  prefix=(add 'flags.obsidian.effects.' effectIndex '.components.' @index)}}
						{{else if (eq type 'target')}}
							{{> modules/obsidian/html/components/effects/targets.html
									prefix=(add 'flags.obsidian.effects.' effectIndex '.components.' @index)}}
						{{else if (eq type 'consume')}}
							{{> modules/obsidian/html/components/effects/consume.html
								  prefix=(add 'flags.obsidian.effects.' effectIndex '.components.' @index)}}
						{{/if}}
					{{/each}}
				</div>
			{{/each}}
		</section>
	</section>
	<ul class="obsidian-effects-tab-list">
		<li class="obsidian-effects-tab obsidian-icon-effect obsidian-add-effect">
			<div class="obsidian-effects-tab-text">{{localize 'OBSIDIAN.AddEffect'}}</div>
		</li>
		<li class="obsidian-effects-tab obsidian-icon-resource obsidian-add-resource obsidian-hidden">
			<div class="obsidian-effects-tab-text">{{localize 'OBSIDIAN.AddResource'}}</div>
		</li>
		<li class="obsidian-effects-tab obsidian-icon-consume-resource obsidian-add-consume obsidian-hidden">
			<div class="obsidian-effects-tab-text">{{localize 'OBSIDIAN.ConsumesResource'}}</div>
		</li>
		<li class="obsidian-effects-tab obsidian-icon-melee obsidian-add-attack obsidian-hidden">
			<div class="obsidian-effects-tab-text">{{localize 'OBSIDIAN.AddAttack'}}</div>
		</li>
		<li class="obsidian-effects-tab obsidian-icon-damage obsidian-add-damage obsidian-hidden">
			<div class="obsidian-effects-tab-text">{{localize 'OBSIDIAN.DamageHeal'}}</div>
		</li>
		<li class="obsidian-effects-tab obsidian-icon-save obsidian-add-save obsidian-hidden">
			<div class="obsidian-effects-tab-text">{{localize 'OBSIDIAN.AddSave'}}</div>
		</li>
		<li class="obsidian-effects-tab obsidian-icon-scaling obsidian-add-scaling obsidian-hidden">
		  <div class="obsidian-effects-tab-text">{{localize 'OBSIDIAN.AddScaling'}}</div>
		</li>
		<li class="obsidian-effects-tab obsidian-icon-target obsidian-add-targets obsidian-hidden">
			<div class="obsidian-effects-tab-text">{{localize 'OBSIDIAN.AddTargets'}}</div>
		</li>
		<li class="obsidian-effects-tab obsidian-icon-demolish obsidian-rm-effect obsidian-hidden">
			<div class="obsidian-effects-tab-text">{{localize 'OBSIDIAN.DeleteSelected'}}</div>
		</li>
	</ul>
</form>
